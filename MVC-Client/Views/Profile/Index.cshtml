@model ProfileViewModel
<div class="container" style="margin-top:100px">
	@*phoyo*@
	<div class="profile-bg-img">

		<div class="profile-icon-img"></div>
		
	</div>
	@*prof info*@
	<div style="display:flex; flex-direction:row; justify-content:end">
		<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal2">
			Launch demo modal
		</button>

		<!-- Modal -->
		<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<form asp-controller="Profile" asp-action="UpdateProfile" enctype="multipart/form-data" method="post">
						<div class="modal-body">
							<div class="form-group"> 
								<input asp-for="@Model.UpdateProfileViewModel.Icon" type="file" >
							</div>
							<div class="form-group">
								<input asp-for="@Model.UpdateProfileViewModel.Bg" type="file" multiple>
							</div>
						

							<hr />

						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
							<button type="submit" class="btn btn-primary">Save changes</button>
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>
	
	<div class="main-user-info">

		<div class="user-info">
			<h1>@Model.UserViewModel.Name</h1>
			<h1>@Model.UserViewModel.LastName</h1>
			<p> student of  @Model.UserViewModel.UniversityName</p>

		</div>
		<div class="tokens">
			@if (User.IsInRole("Manager"))
			{
				<button>gen token teacher</button>
				<button>gen token  dean</button>
			}
			else if (User.IsInRole("Dean"))
			{
				<button>gen token  student</button>
				<button>gen token  test</button>


			}
		</div>
	</div>
	<div class="skill">
		<div class="skill-title">
			<p>Skill</p>
			<div class="control-skill">
				<!-- Button trigger modal -->
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal1">
					Launch demo modal
				</button>

				<!-- Modal -->
				<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
							<form asp-controller="Skill" asp-action="AddSkill" method="post">
								<div class="modal-body">
									<div class="form-group">
										<input asp-for="@Model.AddNewSkill.Text" type="text" class="form-control" placeholder="Enter text of skill">
									</div>

									<hr />

								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
									<button type="submit" class="btn btn-primary">Save changes</button>
								</div>
							</form>

						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="skill-content">
			@foreach (var item in Model.SkillViewModels)
			{

				<div class="skill-item" id="@item.SkillId">
					<img width="50px" height="50px" src="https://miro.medium.com/v2/resize:fit:2400/1*OesLvyzDO6AvU_hYUAT4IA.jpeg" />
					<h1>@item.Text</h1>
					<form asp-action="DeleteSkill" asp-controller="Skill" asp-route-id="@item.SkillId" method="post">
						<button >del</button>

					</form>
					<form asp-action="UpdateSkill" asp-controller="Skill" asp-route-id="@item.SkillId" method="get">
					<button >red</button>

					</form>

					</div>
			}
		</div>
	</div>
	<div class="project">
		<div class="project-title">
			<p>Project</p>
			<div class="control-project">
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
					Launch demo modal
				</button>

				<!-- Modal -->
				<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
							<form asp-controller="Project" asp-action="AddProject" method="post">
								<div class="modal-body">
									<div class="form-group">
										<input asp-for="@Model.AddNewProject.Name" type="text" class="form-control" placeholder="Enter name of project">
										<input asp-for="@Model.AddNewProject.Description" type="text" class="form-control" placeholder="Enter description">
										<input asp-for="@Model.AddNewProject.NameUsingTech" type="text" class="form-control" placeholder="Enter user tech">

									</div>

									<hr />

								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
									<button type="submit" class="btn btn-primary">Save changes</button>
								</div>
							</form>

						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="project-content">
			@foreach (var item in Model.ProjectViewModels)
			{

				<div class="project-item" id="@item.ProjectId">
					<h1>@item.Name</h1>

					<div class="use-techology:">
						<p>Used technology:</p>

						@foreach (var tech in item.NameUsingTech.ToCharArray())
						{
							switch (tech)
							{
								case '1':
									<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJQQTNg5UBaYMTfeq76NtKH1wS6PIyPMmRs_S_NG93Qw&s" />
									;
									break;
								case '2':
									<img src="https://cdn-icons-png.flaticon.com/512/74/74906.png" />

									;
									break;
								case '3':
									<img src="https://cdn-icons-png.flaticon.com/512/6132/6132222.png " />
									;
									break;
								case '4':
									<img src="https://cdn-icons-png.flaticon.com/512/174/174854.png " />
									;
									break;
								case '5':
									<img src="https://cdn-icons-png.flaticon.com/512/5968/5968282.png " />
									;
									break;
							}
						}

					</div>
					<div>
						<h2>Description:</h2>
						<p>
							@item.Description
						</p>

					</div>
					<form asp-action="DeleteProject" asp-controller="Project" asp-route-id="@item.ProjectId" method="post">
						<button>del</button>

					</form>
					<form asp-action="UpdateProject" asp-controller="Project" asp-route-id="@item.ProjectId" method="get">
						<button>red</button>

					</form>

				</div>
			}
		</div>
		
	</div>


</div>
@section Scripts
	{
	<script type="text/javascript" >

$(document).ready(function(){
			var data = @Html.Raw(Json.Serialize(@Model));
			let bk = "data:image/gif;base64, " + data?.userViewModel?.backgroundProfile
			let photo = "data:image/gif;base64, " + data?.userViewModel?.photo

			$(".profile-bg-img").css('background-image', `url('${bk}')`)
			$(".profile-icon-img").css('background-image', `url('${photo}')`)

});
	</script>
	<script type="text/javascript" src="@Url.Content("~/js/profile.js")"></script>
	}